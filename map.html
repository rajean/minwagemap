<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/css/tooltipster.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/js/jquery.tooltipster.min.js"></script>
  <style>
    .interactive-map {
      max-width: 100%;
      height: auto;
    }
    .tooltipster-content {
      background-color: #ffffff;
      border: 1px solid #000000;
      padding: 5px;
    }
  </style>
</head>
<body>
  <div id="interactive-map" class="interactive-map"></div>
<script>
  const mapSvgUrl = "https://api.allorigins.win/raw?url=https://assets.nationbuilder.com/themes/610e8b624764e81fc0b4c1f7/attachments/original/1679070334/Canada_map.svg?1679070334";
  const mapDataUrl = "https://api.allorigins.win/raw?url=https://assets.nationbuilder.com/themes/610e8b624764e81fc0b4c1f7/attachments/original/1679070348/minimum_wage.json?1679070348";

  $(window).on('load', function () {
    $('#interactive-map').load(mapSvgUrl, function () {
      $.getJSON(mapDataUrl, function (data) {
        data.provinces.forEach(function (province) {
          const provinceElement = $(`#${province.code}`);

          provinceElement.tooltipster({
            content: `<strong>${province.name}</strong><br/>Minimum Wage: $${province.minWage.toFixed(2)}`,
            theme: 'tooltipster-shadow',
            animation: 'fade',
            delay: 200,
            touchDevices: false,
            trigger: 'hover',
          });
        });
      });
    });
  });
</script>
</body>
</html>
